const _runtime = '../../libx/_runtime'

module.exports = {
  "db": undefined,
  "multitenancy": undefined,
  "app-service": {
    // this is the default implementation used for provided services
    impl: `${_runtime}/cds-services/services/Service.js`
  },
  "auth": {
    '[development]': { kind: 'mocked-auth' },
    '[production]': { kind: 'JWT-auth' }
  },
  "dummy-auth": {
    strategy: 'dummy',
  },
  "mocked-auth": {
    strategy: 'mock',
    users: {
      alice: { roles: ['admin'] },
      bob: { roles: ['builder'] },
      '*': true
    }
  },
  "JWT-auth": {
    strategy: 'JWT',
  },
  destinations: undefined,
  monitoring: undefined,
  logging: undefined,
  audit: undefined,
  "sql": {
    '[development]': { kind: 'sqlite', credentials: { database: ':memory:' } },
    '[production]': { kind: 'hana' },
  },
  "sqlite": {
    // use: '@sap/cds-sqlite', // enforce using sqlite when accessed through <sql>
    use: 'sqlite', // enforce using sqlite when accessed through <sql>
    credentials: { database: 'sqlite.db' },
    impl: `${_runtime}/sqlite/Service.js`
  },
  "hana": {
    // use: '@sap/cds-hana', // enforce using hana when accessed through <sql>
    use: 'hana', // enforce using hana when accessed through <sql>
    impl: `${_runtime}/hana/Service.js`
  },
  "rest": {
    impl: `${_runtime}/remote/Service.js`
  },
  "odata": {
    impl: `${_runtime}/remote/Service.js`
  },
  "odata-v2": {
    kind: 'odata'
  },
  "odata-v4": {
    kind: 'odata'
  },
  "local-messaging": {
    impl: `${_runtime}/messaging/service.js`
  },
  "file-based-messaging": {
    outbox: true,
    impl: `${_runtime}/messaging/file-based.js`,
    credentials: { file:'~/.cds-msg-box' }
  },
  "enterprise-messaging-shared": {
    outbox: true,
    impl: `${_runtime}/messaging/enterprise-messaging-shared.js`,
    use: "enterprise-messaging" // make sure to search for the correct label in config
  },
  "enterprise-messaging": {
    outbox: true,
    impl: `${_runtime}/messaging/enterprise-messaging.js`
  },
  'message-queuing': {
    outbox: true,
    impl: `${_runtime}/messaging/message-queuing.js`
  },
  "composite-messaging": {
    impl: `${_runtime}/messaging/composite.js`
  },
  "audit-log": {
    impl: `${_runtime}/audit/Service.js`,
    // REVISIT: how to load model?
    // model: 'AuditLogService.cds',
    outbox: true,
    use: "auditlog" // > without "-" for credentials lookup
  }
}
