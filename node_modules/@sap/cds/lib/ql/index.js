if (/\b(y|ql)\b/.test(process.env.cdr)) {

  const SELECT = require('./SELECT')
  const INSERT = require('./INSERT')
  const UPDATE = require('./UPDATE')
  const DELETE = require('./DELETE')
  const CREATE = require('./CREATE')
  const DROP   = require('./DROP')

  module.exports = {
    SELECT: SELECT._,
    INSERT: INSERT._,
    UPDATE: UPDATE._,
    DELETE: DELETE._,
    CREATE: CREATE._,
    DROP:  DROP._,
    classes: {
      SELECT, INSERT, UPDATE, DELETE,
      CREATE, DROP,
      Query: require('./Query'),
      Whereable: require('./Whereable'),
    },
  }

} else {
  // Using monkey-patched implementations from cds-runtime
  Object.assign (module, {exports: require('./rt')})
}
